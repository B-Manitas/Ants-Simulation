
# SFML Variable
LIBS= -Lsrc/lib -lsfml-graphics -lsfml-window -lsfml-system
CXX= g++
CXXFLAGS= -Wall -std=c++11 -Isrc/include
LDFLAGS= 
EXEC_FILES= Main
SRC= $(wildcard *.cpp)
OBJ= $(SRC:.cpp=.o)

# Variable depending on the OS.
ifeq ($(OS),Windows_NT) 
RM = del
else
RM = rm -rf
endif

all: $(EXEC_FILES)

Coord: $(OBJ)
	$(CXX) -o $@ $^ $(LDFLAGS)

Ant: $(OBJ)
	$(CXX) -o $@ $^ $(LDFLAGS)

Place: $(OBJ)
	$(CXX) -o $@ $^ $(LDFLAGS)
	
Action: $(OBJ)
	$(CXX) -o $@ $^ $(LDFLAGS)

Grid: $(OBJ)
	$(CXX) -o $@ $^ $(LDFLAGS)

GridAnts: $(OBJ)
	$(CXX) -o $@ $^ $(LDFLAGS)

Coord.o: Coord.hpp
Ant.o: Coord.hpp 
Place.o: Ant.hpp Coord.hpp
Action.o: Ant.hpp Place.hpp
Grid.o: Action.hpp Ant.hpp Coord.hpp Grid.hpp GridAnts.hpp Place.hpp
GridAnts.o: Ant.hpp Coord.hpp Grid.hpp
Main.o: Coord.hpp Grid.hpp GridAnts.hpp Place.hpp

%.o: %.cpp
	$(CXX) -o $@ -c $^ $(LDFLAGS) $(LIBS)

clean:
	$(RM) *.o
